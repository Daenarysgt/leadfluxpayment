/* Builder Scale CSS */
.builder-scale-wrapper {
  transform: scale(0.85);
  transform-origin: top left;
  width: 117.65%; /* 100% ÷ 0.85 */
  height: 117.65%; /* 100% ÷ 0.85 */
}

/* Garantir que o container pai mantenha o mesmo tamanho visível */
.builder-scale-container {
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

/* Ajustes para garantir que componentes internos mantenham seus scrolls */
[style*="transform: scale"] .scroll-area,
[style*="transform: scale"] .ScrollArea,
[style*="transform: scale"] [role="scrollbar"],
[style*="transform: scale"] [data-radix-scroll-area-viewport],
[style*="transform: scale"] [data-scroll],
[style*="transform: scale"] [data-scroll-container],
[style*="transform: scale"] .overflow-auto,
[style*="transform: scale"] .overflow-y-auto,
[style*="transform: scale"] .overflow-x-auto {
  overflow: auto !important;
}

/* Ajustes específicos para o painel de conteúdo principal */
[style*="transform: scale"] .builder-content,
[style*="transform: scale"] .builder-canvas,
[style*="transform: scale"] .builder-sidebar {
  max-height: 100% !important;
}

/* Correção para evitar scrollbar no body */
body {
  overflow: hidden;
}

/* Correções para sidebars - eliminar espaços vazios */
[style*="transform: scale"] div[class*="ResizablePanel"] {
  height: 117.65vh !important; /* Ajustado para o fator de escala exato */
  min-height: 117.65% !important;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Garantir que os painéis laterais ocupem todo o espaço disponível */
[style*="transform: scale"] div[role="region"] {
  height: 100% !important;
  min-height: 100% !important;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Ajuste para elementos específicos nas sidebars */
[style*="transform: scale"] [data-orientation="vertical"],
[style*="transform: scale"] div[class*="StepsSidebar"],
[style*="transform: scale"] div[class*="ElementsSidebar"],
[style*="transform: scale"] div[class*="ElementConfigSidebar"] {
  height: 100% !important;
  min-height: 100% !important;
  display: flex;
  flex-direction: column;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Correção para listas de elementos que ficam com espaço vazio no final */
[style*="transform: scale"] div[class*="ElementList"],
[style*="transform: scale"] div[class*="ConfigPanel"] {
  flex: 1;
  height: 100%;
  min-height: 100%;
  overflow-y: auto;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Ajustes mais específicos para sidebar de elementos */
[style*="transform: scale"] .ELEMENTOS,
[style*="transform: scale"] .AVANÇADOS,
[style*="transform: scale"] .BÁSICOS,
[style*="transform: scale"] div[class*="TabsContent"] {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow-y: auto;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Correção para a área de conteúdo da sidebar de configuração */
[style*="transform: scale"] .elementconfig-content,
[style*="transform: scale"] div[class*="ScrollArea-viewport"] > div {
  display: flex;
  flex-direction: column;
  min-height: calc(117.65vh - 64px);
  height: 100%;
  overflow-y: auto;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Garantir que qualquer div dentro das sidebars ocupe o máximo de espaço */
[style*="transform: scale"] .h-\[calc\(100vh-64px\)\] {
  height: calc(117.65vh - 64px) !important;
  min-height: calc(117.65vh - 64px) !important;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Corrigir o button/divider na parte inferior que pode estar criando overlay */
[style*="transform: scale"] button[class*="Nova"],
[style*="transform: scale"] div[class*="Nova"],
[style*="transform: scale"] button[class*="Adicionar"],
[style*="transform: scale"] div[class*="Adicionar"] {
  position: relative !important;
  bottom: 0 !important;
  margin-top: auto !important;
  z-index: 1 !important;
}

/* Forçar que o último elemento da lista não fique coberto */
[style*="transform: scale"] div[class*="ElementList"] > div:last-child,
[style*="transform: scale"] div[class*="ConfigPanel"] > div:last-child {
  margin-bottom: 60px !important; /* Espaço extra para não ficar coberto */
}

/* Garantir que a interface se ajuste em telas menores */
@media (max-width: 1280px) {
  .builder-scale-wrapper {
    transform: scale(0.83);
    width: 120.5%; /* 100% ÷ 0.83 */
    height: 120.5%; /* 100% ÷ 0.83 */
  }
  
  [style*="transform: scale"] div[class*="ResizablePanel"] {
    height: 120.5vh !important;
    min-height: 120.5% !important;
  }
  
  [style*="transform: scale"] .elementconfig-content,
  [style*="transform: scale"] div[class*="ScrollArea-viewport"] > div {
    min-height: calc(120.5vh - 64px);
  }
  
  [style*="transform: scale"] .h-\[calc\(100vh-64px\)\] {
    height: calc(120.5vh - 64px) !important;
    min-height: calc(120.5vh - 64px) !important;
  }
}

/* Ajuste ainda maior para telas muito pequenas */
@media (max-width: 768px) {
  .builder-scale-wrapper {
    transform: scale(0.8);
    width: 125%; /* 100% ÷ 0.8 */
    height: 125%; /* 100% ÷ 0.8 */
  }
  
  [style*="transform: scale"] div[class*="ResizablePanel"] {
    height: 125vh !important;
    min-height: 125% !important;
  }
  
  [style*="transform: scale"] .elementconfig-content,
  [style*="transform: scale"] div[class*="ScrollArea-viewport"] > div {
    min-height: calc(125vh - 64px);
  }
  
  [style*="transform: scale"] .h-\[calc\(100vh-64px\)\] {
    height: calc(125vh - 64px) !important;
    min-height: calc(125vh - 64px) !important;
  }
} 